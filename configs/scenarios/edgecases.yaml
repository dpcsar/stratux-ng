# Edge-case scenario set for deterministic EFB testing.
# Covers:
# - Near poles (lat ~ +/-90)
# - High altitude (near max encodable) + invalid altitude sentinel
# - Negative altitude (valid and invalid)
# - Zero ground speed
# - Abrupt heading changes (wraparound)
# - High traffic count

version: 1
# If you change this, also change sim.scenario.loop behavior expectations.
duration: 30s

ownship:
  icao: "F00000"
  callsign: "STRATUX"
  gps_horizontal_accuracy_m: 50
  keyframes:
    - t: 0s
      lat_deg: 89.90
      lon_deg: 0.00
      alt_feet: 3000
      ground_kt: 0
      track_deg: 0
    - t: 5s
      lat_deg: 89.85
      lon_deg: 45.00
      alt_feet: 101000
      ground_kt: 420
      track_deg: 350
    - t: 10s
      lat_deg: 89.80
      lon_deg: 90.00
      alt_feet: 105000 # >101350 => invalid (0xFFF)
      ground_kt: 420
      track_deg: 10     # abrupt wrap across 360
    - t: 15s
      lat_deg: 0.00
      lon_deg: 0.00
      alt_feet: -500
      ground_kt: 120
      track_deg: 180
    - t: 20s
      lat_deg: -89.90
      lon_deg: -45.00
      alt_feet: -1500 # <-1000 => invalid (0xFFF)
      ground_kt: 120
      track_deg: 270
    - t: 30s
      lat_deg: 45.00
      lon_deg: -90.00
      alt_feet: 3000
      ground_kt: 0
      track_deg: 90

# 32 targets (high traffic count). Mostly near the pole to stress lat/lon packing.
traffic:
  - icao: "F10001"
    callsign: "TGT0001"
    keyframes:
      - t: 0s
        lat_deg: 89.88
        lon_deg: 5.0
        alt_feet: 3100
        ground_kt: 0
        track_deg: 90
  - icao: "F10002"
    callsign: "TGT0002"
    keyframes:
      - t: 0s
        lat_deg: 89.88
        lon_deg: 15.0
        alt_feet: 3200
        ground_kt: 60
        track_deg: 120
  - icao: "F10003"
    callsign: "TGT0003"
    keyframes:
      - t: 0s
        lat_deg: 89.88
        lon_deg: 25.0
        alt_feet: 3300
        ground_kt: 120
        track_deg: 150
  - icao: "F10004"
    callsign: "TGT0004"
    keyframes:
      - t: 0s
        lat_deg: 89.88
        lon_deg: 35.0
        alt_feet: 3400
        ground_kt: 180
        track_deg: 180
  - icao: "F10005"
    callsign: "TGT0005"
    keyframes:
      - t: 0s
        lat_deg: 89.88
        lon_deg: 45.0
        alt_feet: 3500
        ground_kt: 240
        track_deg: 210
  - icao: "F10006"
    callsign: "TGT0006"
    keyframes:
      - t: 0s
        lat_deg: 89.88
        lon_deg: 55.0
        alt_feet: 3600
        ground_kt: 300
        track_deg: 240
  - icao: "F10007"
    callsign: "TGT0007"
    keyframes:
      - t: 0s
        lat_deg: 89.88
        lon_deg: 65.0
        alt_feet: 3700
        ground_kt: 360
        track_deg: 270
  - icao: "F10008"
    callsign: "TGT0008"
    keyframes:
      - t: 0s
        lat_deg: 89.88
        lon_deg: 75.0
        alt_feet: 3800
        ground_kt: 420
        track_deg: 300

  - icao: "F10009"
    callsign: "TGT0009"
    keyframes:
      - t: 0s
        lat_deg: 89.90
        lon_deg: 10.0
        alt_feet: 3900
        ground_kt: 0
        track_deg: 45
  - icao: "F1000A"
    callsign: "TGT0010"
    keyframes:
      - t: 0s
        lat_deg: 89.90
        lon_deg: 20.0
        alt_feet: 4000
        ground_kt: 90
        track_deg: 90
  - icao: "F1000B"
    callsign: "TGT0011"
    keyframes:
      - t: 0s
        lat_deg: 89.90
        lon_deg: 30.0
        alt_feet: 4100
        ground_kt: 180
        track_deg: 135
  - icao: "F1000C"
    callsign: "TGT0012"
    keyframes:
      - t: 0s
        lat_deg: 89.90
        lon_deg: 40.0
        alt_feet: 4200
        ground_kt: 270
        track_deg: 180
  - icao: "F1000D"
    callsign: "TGT0013"
    keyframes:
      - t: 0s
        lat_deg: 89.90
        lon_deg: 50.0
        alt_feet: 4300
        ground_kt: 360
        track_deg: 225
  - icao: "F1000E"
    callsign: "TGT0014"
    keyframes:
      - t: 0s
        lat_deg: 89.90
        lon_deg: 60.0
        alt_feet: 4400
        ground_kt: 450
        track_deg: 270
  - icao: "F1000F"
    callsign: "TGT0015"
    keyframes:
      - t: 0s
        lat_deg: 89.90
        lon_deg: 70.0
        alt_feet: 4500
        ground_kt: 540
        track_deg: 315
  - icao: "F10010"
    callsign: "TGT0016"
    keyframes:
      - t: 0s
        lat_deg: 89.90
        lon_deg: 80.0
        alt_feet: 4600
        ground_kt: 600
        track_deg: 0

  - icao: "F10011"
    callsign: "TGT0017"
    keyframes:
      - t: 0s
        lat_deg: 89.86
        lon_deg: -10.0
        alt_feet: 4700
        ground_kt: 120
        track_deg: 10
  - icao: "F10012"
    callsign: "TGT0018"
    keyframes:
      - t: 0s
        lat_deg: 89.86
        lon_deg: -20.0
        alt_feet: 4800
        ground_kt: 120
        track_deg: 20
  - icao: "F10013"
    callsign: "TGT0019"
    keyframes:
      - t: 0s
        lat_deg: 89.86
        lon_deg: -30.0
        alt_feet: 4900
        ground_kt: 120
        track_deg: 30
  - icao: "F10014"
    callsign: "TGT0020"
    keyframes:
      - t: 0s
        lat_deg: 89.86
        lon_deg: -40.0
        alt_feet: 5000
        ground_kt: 120
        track_deg: 40

  - icao: "F10015"
    callsign: "TGT0021"
    keyframes:
      - t: 0s
        lat_deg: 89.92
        lon_deg: 100.0
        alt_feet: 101000
        ground_kt: 350
        track_deg: 200
  - icao: "F10016"
    callsign: "TGT0022"
    keyframes:
      - t: 0s
        lat_deg: 89.92
        lon_deg: 110.0
        alt_feet: 105000 # invalid sentinel
        ground_kt: 350
        track_deg: 210
  - icao: "F10017"
    callsign: "TGT0023"
    keyframes:
      - t: 0s
        lat_deg: 89.92
        lon_deg: 120.0
        alt_feet: -500
        ground_kt: 0
        track_deg: 220
  - icao: "F10018"
    callsign: "TGT0024"
    keyframes:
      - t: 0s
        lat_deg: 89.92
        lon_deg: 130.0
        alt_feet: -1500 # invalid sentinel
        ground_kt: 0
        track_deg: 230

  - icao: "F10019"
    callsign: "TGT0025"
    keyframes:
      - t: 0s
        lat_deg: 89.84
        lon_deg: 140.0
        alt_feet: 6000
        ground_kt: 250
        track_deg: 270
  - icao: "F1001A"
    callsign: "TGT0026"
    keyframes:
      - t: 0s
        lat_deg: 89.84
        lon_deg: 150.0
        alt_feet: 6100
        ground_kt: 260
        track_deg: 280
  - icao: "F1001B"
    callsign: "TGT0027"
    keyframes:
      - t: 0s
        lat_deg: 89.84
        lon_deg: 160.0
        alt_feet: 6200
        ground_kt: 270
        track_deg: 290
  - icao: "F1001C"
    callsign: "TGT0028"
    keyframes:
      - t: 0s
        lat_deg: 89.84
        lon_deg: 170.0
        alt_feet: 6300
        ground_kt: 280
        track_deg: 300

  - icao: "F1001D"
    callsign: "TGT0029"
    keyframes:
      - t: 0s
        lat_deg: 89.94
        lon_deg: -60.0
        alt_feet: 7000
        ground_kt: 0
        track_deg: 310
  - icao: "F1001E"
    callsign: "TGT0030"
    keyframes:
      - t: 0s
        lat_deg: 89.94
        lon_deg: -70.0
        alt_feet: 7100
        ground_kt: 50
        track_deg: 320
  - icao: "F1001F"
    callsign: "TGT0031"
    keyframes:
      - t: 0s
        lat_deg: 89.94
        lon_deg: -80.0
        alt_feet: 7200
        ground_kt: 100
        track_deg: 330
  - icao: "F10020"
    callsign: "TGT0032"
    keyframes:
      - t: 0s
        lat_deg: 89.94
        lon_deg: -90.0
        alt_feet: 7300
        ground_kt: 150
        track_deg: 340
