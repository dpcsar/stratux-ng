# Development config
#
# This config drives the built-in simulator and sends real framed GDL90 over UDP.
# Use `mode: test` only for plain-text UDP debugging.

gdl90:
  # Typical GDL90 UDP port is commonly 4000 in the ecosystem.
  # Adjust as needed for your EFB/testing.
  dest: "192.168.10.255:4000"

  # Output mode:
  # - gdl90 (default): send framed GDL90 (heartbeat + Stratux heartbeat + sim ownship/traffic if enabled)
  # - test: send plain text UDP payloads (debugging only)
  mode: gdl90

  # Go duration string
  interval: 1s

  # Record/replay (framed GDL90 only).
  #
  # Record writes every outgoing framed GDL90 packet to a simple line-based log.
  # Replay reads a previously recorded log and re-sends the raw framed packets.
  #
  # Log format:
  # - First line: START
  # - Then: <t_ns>,<hex> where t_ns is nanoseconds since START.
  #
  # Note: record and replay are mutually exclusive.
  record:
    enable: false
    path: "./gdl90-record.log"

  replay:
    enable: false
    path: "./gdl90-record.log"
    # 1.0 = real-time. 2.0 = 2x speed. 0.5 = half speed.
    speed: 1.0
    # If true, loops forever until Ctrl+C.
    loop: false

  test_payload: "STRATUX-NG TEST"

sim:
  ownship:
    enable: true
    # Pick a realistic center point for your testing.
    # Hillsboro, Oregon (KHIO) area.
    center_lat_deg: 45.5404
    center_lon_deg: -122.9498
    alt_feet: 3000
    ground_kt: 90
    # Simulated 95% horizontal position accuracy (meters).
    # Used to derive NACp similarly to Stratux.
    gps_horizontal_accuracy_m: 50
    radius_nm: 0.5
    period: 120s
    # 24-bit ICAO address as 6 hex chars.
    icao: "F00000"
    callsign: "STRATUX"

  # Simulated traffic targets (GDL90 0x14).
  traffic:
    enable: true
    count: 3
    radius_nm: 2.0
    period: 90s
    ground_kt: 120
